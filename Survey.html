<!DOCKTYPE html>
<html>
  <head>
    <title> </title>

    <!--<link rel="stylesheet" type="text/css" href="INSERT FILE PATH HERE" />-->
  </head>
  <body>
    <form enctype="application/json">
        <div class="contact">
            Company Name:
            <input id="companyName" type = "text"></input>
            <br>
            <br>
            First Name:
            <input id="firstName" type = "text"></input>
            <br>
            <br>
            Last Name: 
            <input id="lastName" type = "text"></input>
            <br>
            <br>
            Phone Number:
            <input id="phone" type="tel"></input>
            <br>
            <br>
            Email:
            <input id="email" type="email"></input>
            <br>
            <br>
            <br>
        </div>
        <div class= "Q" id="Q1">
                Approximtely where is you farm/business/etc. located (ie. How close to UoG)?<br>
            
                 <input type="number" style="padding-right:20px; text-align:right; width:60px;" value="3"></input>
                 <span style="margin-left:-30px;">km</span>
          
      </div>
      <br>
      <div class= "Q" id="Q2">
            What is/are your products?<br>
            <textarea rows="4" cols="50">
                   
                    </textarea>
      </div>
      <br>
      <div class= "Q" id="Q3">
            Could you tell me a little about who you are/your businesses history?<br>
            <textarea rows="4" cols="50">
                   
                    </textarea>
      </div>
      <div class= "Q" id="Q4">
            What does your business do/what is unique about your products that make them more environmentally friendly/sustainable?<br>
            <textarea rows="4" cols="50">
                   
                    </textarea>
      </div>
      <div class= "Q" id="Q5">
            Anything special about your company that we might want to know?<br>
            <textarea rows="4" cols="50">
                   
                    </textarea>
      </div>
      <div>
        <input class = "submitbutton" type="submit"></input>
      </div>
    </form>
    <script>
    let submitions = []; //array for submitions
    const addSubmition =  (ev)=>{
      ev.preventDefault();// stops from submiting
      let submition = {
        id: Date.now,
        companyName : document.getElementById('companyName').value,
        firstName : document.getElementById('firstName').value,
        lastName : document.getElementById('lastName').value,
        phone : document.getElementById('phone').value,
        email : document.getElementById('email').value,
        Q1 : document.getElementById('Q1').value,
        Q2 : document.getElementById('Q2').value,
        Q3 : document.getElementById('Q3').value,
        Q4 : document.getElementById('Q4').value,
        Q5 : document.getElementById('Q5').value
        
      }
      submitions.push(submition);
      document.forms[0].reset(); //clears the form for next entry

      console.log(`There are currently ${submitions.length}, here they are${submitions}`);
      let pre = document.querySelector('#msg pre');
      pre.textContent = '\n'+ JSON.stringify(submitions,'\t',2);

      localStorage.setItem('form submitions', JSON.stringify(submitions));
    }
    window.onload=function(){
    document.addEventListener('DOMContentLoaded', ()=> {
      document.getElementById('submitbutton').addEventListener('click', addSubmition);
    })
    }
    </script>
  </body>
</html>
